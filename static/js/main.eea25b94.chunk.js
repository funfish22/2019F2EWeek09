(this["webpackJsonpthe-f2e-week09"]=this["webpackJsonpthe-f2e-week09"]||[]).push([[0],{287:function(n,t,e){n.exports=e(615)},495:function(n,t,e){},496:function(n,t,e){},613:function(n,t,e){},615:function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),o=e(59),i=e.n(o),c=(e(292),e(302),e(495),e(496),e(274)),l=e(275),u=e(286),d=e(276),p=e(284),s=e(60),f=e(282),b=e(75),x=e.n(b),h=e(9),m=e(171),E=e(10),g=e(74),v=e(31),O={GET_NOTE_REQUEST:"home/get_note_request",GET_NOTE_SUCCESS:"home/get_note_success",CREATE_NOTE_REQUEST:"home/create_note_request",CREATE_NOTE_SUCCESS:"home/create_note_success",GET_TARGET_CARD:"home/get_target_card",GET_TARGET_CARD_SUCCESS:"home/get_target_card_success",CREATE_NOTE_INFO:"home/create_note_info",CREATE_NOTE_TEXT:"home/create_note_text",HANDLE_LIVINIG:"home/handle_livinig"},_=function(n){var t=n.notes;return{type:O.GET_NOTE_SUCCESS,payload:{notes:t}}},j=function(n,t){return{type:O.GET_TARGET_CARD,payload:{id:n,beforeCard:t}}},C=function(n){var t=n.note;return{type:O.GET_TARGET_CARD_SUCCESS,payload:{note:t}}},T=function(n){return{type:O.HANDLE_LIVINIG,payload:{isLivinig:n}}};function w(){var n=Object(h.a)(["\n    font-family: 'Helvetica Neue','Microsoft JhengHei',sans-serif;\n    padding: 0;\n    border: none;\n    background-color: transparent;\n    outline: none;\n    margin-left: 12px;\n    flex: 1;\n    font-weight: bold;\n\n    &::-webkit-input-placeholder{\n        color: #A3A3A3;\n    }\n\n    &:-moz-placeholder{\n        color: #A3A3A3;\n    }\n\n    &::-moz-placeholder{\n        color: #A3A3A3;\n    }\n\n    &input:-ms-input-placeholder{\n        color: #A3A3A3;\n    }\n"]);return w=function(){return n},n}function y(){var n=Object(h.a)(["\n    font-size: 21px;\n    color: #333;\n"]);return y=function(){return n},n}function k(){var n=Object(h.a)(["\n    display: inline-flex;\n    width: 290px;\n    max-width: 100%;\n    align-items: center;\n    border-radius: 8px;\n    background-color: #E6E6E6;\n    padding: 12px 20px;\n"]);return k=function(){return n},n}var A=function(n,t){var e=n.className;return a.a.createElement(N,{className:e},a.a.createElement(S,{className:"icon-search_24px"}),a.a.createElement(R,{type:"text",placeholder:"\u641c\u5c0b\u60a8\u7684\u7b46\u8a18"}))},N=E.a.div(k()),S=E.a.span(y()),R=E.a.input(w()),F=A;function G(){var n=Object(h.a)(["\n    font-size: 15px;\n    color: #666666;\n"]);return G=function(){return n},n}function z(){var n=Object(h.a)(["\n    margin-left: auto;\n    margin-right: 10px;\n    font-weight: bold;\n    font-size: 18px;\n    color: #666;\n"]);return z=function(){return n},n}function I(){var n=Object(h.a)(["\n    color: #2F419B;\n    padding: 3px 16px;\n    font-size: 14px;\n    background-color: #E9EBF4;\n    border-radius: 4px;\n\n    &:not(:first-of-type){\n        margin-left: 5px;\n    }\n"]);return I=function(){return n},n}function D(){var n=Object(h.a)(["\n    display: flex;\n"]);return D=function(){return n},n}function U(){var n=Object(h.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-weight: bold;\n    position: relative;\n    z-index: 1;\n"]);return U=function(){return n},n}function H(){var n=Object(h.a)(["\n    height: 96px;\n    max-height: 96px;\n    position: relative;\n    z-index: 1;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 4;\n    -webkit-box-orient: vertical;\n    word-break: break-all;\n    margin-bottom: 7px;\n"]);return H=function(){return n},n}function L(){var n=Object(h.a)(["\n    padding: 0;\n    margin: 14px 0;\n    border: none;\n    width: 100%;\n    height: 1px;\n    background-color: #ECECEC;\n    position: relative;\n    z-index: 1;\n"]);return L=function(){return n},n}function B(){var n=Object(h.a)(["\n    color: #555;\n    font-weight: bold;\n    font-size: 18px;\n    position: relative;\n    z-index: 1;\n"]);return B=function(){return n},n}function Q(){var n=Object(h.a)(["\n    width: 290px;\n    max-width: 100%;\n    padding: 35px 23px 23px 23px;\n    background: linear-gradient(to left bottom,transparent 50%,#e9ebf4 0) no-repeat 100% 0/32px 32px,linear-gradient(-135deg,transparent 23px,#fff 0);\n    border-radius: 4px;\n    position: relative;\n    box-shadow: 0px 0px 6px #F0F0F0;\n    \n    &:hover{\n        "," {\n            opacity: 1;\n        }\n    }\n\n    &:after{\n        content: '';\n        position: absolute;\n        width: 0;\n        height: 0;\n        border-style: solid;\n        border-width: 0px 47px 47px 0;\n        border-color: transparent #F4F6F7 transparent transparent;\n        top: -9px;\n        right: -9px;\n        z-index: 1;\n    }\n\n    &:not(:first-of-type) {\n        margin-top: 15px;\n    }\n\n    \n"]);return Q=function(){return n},n}function M(){var n=Object(h.a)(["\n    position: absolute;\n    border-radius: 5px;\n    border: 3px solid #2F419B;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    opacity: ",";\n    transition: .2s;\n\n    &:after{\n        content: '';\n        position: absolute;\n        width: 0;\n        height: 0;\n        border-style: solid;\n        border-width: 0 33px 33px 0;\n        border-color: transparent #F4F6F7 transparent transparent;\n        top: -4px;\n        right: -4px;\n    }\n\n    &:before{\n        content: '';\n        position: absolute;\n        width: 42px;\n        height: 3px;\n        background-color: #2F419B;\n        transform: rotate(45deg);\n        right: -8px;\n        top: 12px;\n        z-index: 1;\n    }\n"]);return M=function(){return n},n}var X=function(n,t){var e=n.Note,r=n.NoteId,o=n.onClick;return a.a.createElement(a.a.Fragment,null,e&&e.sort((function(n,t){return n.id>t.id?-1:1})).map((function(n){var t=r===n.id;return a.a.createElement(q,{key:n.id,onClick:function(){return o(n.id)}},a.a.createElement(V,{isCurrent:t}),a.a.createElement(W,null,n.title),a.a.createElement(P,null),a.a.createElement(Y,null,n.text),a.a.createElement($,null,a.a.createElement(K,null,n.tags&&n.tags.map((function(n){return a.a.createElement(Z,{key:n.id},n.tagTitle)}))),n.files&&a.a.createElement(nn,{className:"icon-attachment"}),a.a.createElement(tn,null,n.time)))})))};X.defaultProps={Note:[{title:"first",content:"<span>\u5167\u5bb9</span>",time:"2019/9/5",tags:[{tagTitle:"\u5065\u5eb7",id:1}],files:!1,id:1}]};var J=X,V=E.a.div(M(),(function(n){return n.isCurrent?"1":"0"})),q=E.a.div(Q(),V),W=E.a.h2(B()),P=E.a.hr(L()),Y=E.a.p(H()),$=E.a.div(U()),K=E.a.ul(D()),Z=E.a.li(I()),nn=E.a.span(z()),tn=E.a.div(G()),en=J;function rn(){var n=Object(h.a)(["\n    padding: 20px 33px;\n    height: 100%;\n    max-height: 100%;\n    overflow-y: auto;\n\n    &::-webkit-scrollbar{\n        width: 4px;\n    }\n\n    &::-webkit-scrollbar-thumb{\n        background-color: #2F419B;\n    }\n"]);return rn=function(){return n},n}function an(){var n=Object(h.a)(["\n    width: 100%;\n    margin: 0;\n    margin-top: 20px;\n    border: none;\n    padding: 0;\n    background-color: #D9D9D9;\n    height: 1px;\n"]);return an=function(){return n},n}function on(){var n=Object(h.a)(["\n    background-color: #F4F6F7;\n    border-right: 1px solid #E1E1E1;\n    padding-top: 50px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: fixed;\n    left: 256px;\n    top: 0;\n    bottom: 0;\n"]);return on=function(){return n},n}var cn=function(n,t){var e=n.onClick,r=Object(v.c)((function(n){return n.Home.note})),o=Object(v.c)((function(n){return n.Home.targetCardId}));return a.a.createElement(ln,null,a.a.createElement(F,null),a.a.createElement(un,null),a.a.createElement(dn,null,a.a.createElement(en,{Note:r,NoteId:o,onClick:e})))},ln=E.a.div(on()),un=E.a.hr(an()),dn=E.a.div(rn()),pn=cn,sn=e(281),fn=e(129),bn=e.n(fn),xn=(e(612),e(613),a.a.useState),hn={controls:["headings","font-family","font-size","text-color","hr","italic","bold","letter-spacing","line-height","link","list-ol","list-ul","blockquote","code","clear","emoji","media","redo","remove-styles","separator","strike-through","superscript","subscript","text-align","text-color","text-indent","underline","undo","fullscreen"],colors:["#000000","#333333","#666666","#999999","#cccccc","#ffffff","#61a951","#16a085","#07a9fe","#003ba5","#8e44ad","#f32784","#c0392b","#d35400","#f39c12","#fdda00","#7f8c8d","#2c3e50"]},mn=function(n,t){var e=Object(v.c)((function(n){return n.Home.isLivinig})),o=Object(v.b)(),i=xn(bn.a.createEditorState(null)),c=Object(sn.a)(i,2),l=c[0],u=c[1],d=n.onChange,p=n.Content;Object(r.useEffect)((function(){return!0===e&&s(),function(){o(T(!1))}}));var s=function(){e&&u(bn.a.createEditorState(p))},f=n.className;return a.a.createElement(bn.a,Object.assign({className:f},hn,{language:"zh-hant",value:l,onChange:function(n){var t=n.toRAW(!0),e=n.toHTML(),r="";t.blocks.forEach((function(n){r+=n.text})),u(n),d(r,e)}}))};function En(){var n=Object(h.a)(["\n    font-weight: bold;\n    font-size: 21px;\n    width: 100%;\n    border: none;\n    outline: none;\n    padding: 0 5px;\n    margin-bottom: 5px;\n\n    &::-webkit-input-placeholder{\n        color: #A3A3A3;\n    }\n\n    &:-moz-placeholder{\n        color: #A3A3A3;\n    }\n\n    &::-moz-placeholder{\n        color: #A3A3A3;\n    }\n\n    &input:-ms-input-placeholder{\n        color: #A3A3A3;\n    }\n"]);return En=function(){return n},n}function gn(){var n=Object(h.a)(["\n    padding: 52px 46px;\n    max-height: 100vh;\n    max-width: calc(100% - 613px);\n    margin-left: auto;\n"]);return gn=function(){return n},n}var vn=function(n,t){var e=Object(v.b)(),o=Object(v.c)((function(n){return n.Home.targetCardId})),i=Object(v.c)((function(n){return n.Home.targetCard.title})),c=Object(v.c)((function(n){return n.Home.targetCard.content})),l=Object(v.c)((function(n){return n.Home.targetCard}));return Object(r.useEffect)((function(){e({type:O.GET_NOTE_REQUEST})}),[e]),a.a.createElement(a.a.Fragment,null,a.a.createElement(pn,{onClick:function(n){e(j(n,l)),e(T(!0))}}),a.a.createElement(On,null,a.a.createElement(_n,{type:"text",placeholder:"\u7121\u6a19\u984c",onChange:function(n){var t,r;e((t=o,r=n.target.value,{type:O.CREATE_NOTE_INFO,payload:{id:t,title:r}}))},value:i}),a.a.createElement(mn,{onChange:function(n,t){e(function(n,t,e){return{type:O.CREATE_NOTE_TEXT,payload:{id:n,text:t,html:e}}}(o,n,t))},Content:c})))},On=E.a.div(gn()),_n=E.a.input(En()),jn=vn;var Cn=function(){return a.a.createElement(g.c,null,a.a.createElement(g.a,{path:"/",exact:!0,component:jn}))};function Tn(){var n=Object(h.a)(["\n    display: inline-block;\n    font-size: 22px;\n    position: relative;\n    color: #fff;\n\n    &:after{\n        position: absolute;\n        content: '';\n        width: 6px;\n        height: 6px;\n        border-radius: 50%;\n        background-color: #fff;\n        bottom: 8px;\n        right: -10px;\n    }\n"]);return Tn=function(){return n},n}var wn=function(n,t){var e=n.className;return a.a.createElement(yn,{className:e},"FreeNote")},yn=E.a.h1(Tn()),kn=wn;function An(){var n=Object(h.a)(["\n    width: 26px;\n    height: 26px;\n    border-radius: 50%;\n    background-color: #2F419B;\n    position: relative;\n    margin-right: 16px;\n\n    &:after,&:before {\n        position: absolute;\n        content: '';\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        background-color: #fff;\n    }\n\n    &:after {\n        width: 14px;\n        height: 2px;\n    }\n\n    &:before{\n        width: 2px;\n        height: 14px;\n    }\n"]);return An=function(){return n},n}function Nn(){var n=Object(h.a)(["\n    font-size: 18px;\n    line-height: 23px;\n    font-weight: bold;\n    color: #2F419B;\n"]);return Nn=function(){return n},n}function Sn(){var n=Object(h.a)(["\n    display: inline-flex;\n    align-items: center;\n    padding: 11px 46px 11px 30px;\n    cursor: pointer;\n    box-shadow: 0px 0px 6px rgba(255,255,255,.29);\n    border-radius: 8px;\n    white-space: nowrap;\n    background-color: #fff;\n    font-family: 'Helvetica Neue', 'Microsoft JhengHei', sans-serif;\n    transition: .5s;\n\n    &:hover{\n        box-shadow: 0px 0px 15px rgba(255,255,255,.5);\n    }\n"]);return Sn=function(){return n},n}var Rn=function(n,t){var e=n.className,r=n.onClick;return a.a.createElement(Fn,{className:e,onClick:r},a.a.createElement(zn,null),a.a.createElement(Gn,null,"\u65b0\u589e\u7b46\u8a18"))},Fn=E.a.button(Sn()),Gn=E.a.p(Nn()),zn=E.a.div(An()),In=Rn;function Dn(){var n=Object(h.a)(["\n    margin: 33px 0;\n"]);return Dn=function(){return n},n}function Un(){var n=Object(h.a)(["\n    margin-left: 24px;\n"]);return Un=function(){return n},n}function Hn(){var n=Object(h.a)(["\n    width: 256px;\n    min-height: 100vh;\n    background-color: #2F419B;\n    padding: 50px 33px;\n    position: fixed;\n    top: 0;\n    left: 0;\n"]);return Hn=function(){return n},n}var Ln=function(n,t){var e=Object(v.b)();return a.a.createElement(Bn,null,a.a.createElement(Qn,null),a.a.createElement(Mn,{onClick:function(){var n=new Date,t="".concat(n.getFullYear(),"/").concat(n.getMonth()+1,"/").concat(n.getDate()),r=n.getTime();e(function(n){var t=n.title,e=n.time,r=n.id;return{type:O.CREATE_NOTE_REQUEST,payload:{title:t,time:e,id:r}}}({title:"\u7121\u6a19\u984c",time:t,id:r})),e(function(n){var t=n.title,e=n.time,r=n.id;return{type:O.CREATE_NOTE_SUCCESS,payload:{title:t,time:e,id:r}}}({title:"\u7121\u6a19\u984c",time:t,id:r})),e(j(r)),e(T(!0))}}))},Bn=E.a.div(Hn()),Qn=Object(E.a)(kn)(Un()),Mn=Object(E.a)(In)(Dn());function Xn(){var n=Object(h.a)(["\n    display: flex;\n"]);return Xn=function(){return n},n}var Jn=function(n,t){return a.a.createElement(m.a,null,a.a.createElement(Vn,null,a.a.createElement(Ln,null),a.a.createElement(Cn,null)))},Vn=E.a.div(Xn()),qn=Jn,Wn=e(33),Pn=e(50),Yn={searchStar:!1,targetCard:{title:"",text:"",editorState:null},targetCardId:"",isLivinig:!0,note:[],beforeCard:""},$n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.GET_NOTE_SUCCESS:return Object(Pn.a)({},n,{note:t.payload.notes});case O.CREATE_NOTE_REQUEST:return Object(Pn.a)({},n,{note:[].concat(Object(Wn.a)(n.note),[{title:t.payload.title,content:"",time:t.payload.time,tags:[],files:!1,editorState:null,id:t.payload.id}])});case O.GET_TARGET_CARD:var e=n.note.find((function(n){return n.id===t.payload.id}));return Object(Pn.a)({},n,{targetCardId:t.payload.id,targetCard:e,beforeCard:t.payload.beforeCard});case O.GET_TARGET_CARD_SUCCESS:return Object(Pn.a)({},n,{targetCard:t.payload.note});case O.CREATE_NOTE_INFO:var r=Object(Pn.a)({},n.targetCard,{title:t.payload.title}),a=n.note.map((function(n){return n.id===t.payload.id?Object(Pn.a)({},n,{title:t.payload.title}):n}));return Object(Pn.a)({},n,{targetCard:r,note:a});case O.CREATE_NOTE_TEXT:var o=Object(Pn.a)({},n.targetCard,{text:t.payload.text,content:t.payload.html}),i=n.note.map((function(n){return n.id===t.payload.id?Object(Pn.a)({},n,{text:t.payload.text,content:t.payload.html}):n}));return Object(Pn.a)({},n,{targetCard:o,note:i});case O.HANDLE_LIVINIG:return Object(Pn.a)({},n,{isLivinig:t.payload.isLivinig});default:return n}},Kn=Object(s.c)({Home:$n}),Zn=e(24),nt=e.n(Zn),tt=e(34),et=function(){return x.a.get("/note")},rt=function(n){var t=n.title,e=n.time,r=n.id;return x.a.post("/note",{title:t,content:null,time:e,tags:[],files:!1,text:"",id:r})},at=function(n){return x.a.get("/note/".concat(n))},ot=function(n){var t=n.id,e=n.note;if(void 0!==t)return x.a.put("/note/".concat(t),e)},it=nt.a.mark(ft),ct=nt.a.mark(bt),lt=nt.a.mark(xt),ut=nt.a.mark(ht),dt=nt.a.mark(mt),pt=nt.a.mark(Et),st=nt.a.mark(gt);function ft(){var n;return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(tt.b)(et);case 3:return n=t.sent,t.next=6,Object(tt.d)(_({notes:n.data}));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),it,null,[[0,8]])}function bt(){return nt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(tt.e)(O.GET_NOTE_REQUEST,ft);case 2:case"end":return n.stop()}}),ct)}function xt(n,t){return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(tt.b)(rt,{title:n.payload.title,time:n.payload.time,id:n.payload.id});case 3:return t.next=5,ht(n.payload.id);case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),lt,null,[[0,7]])}function ht(n,t){var e;return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(tt.b)(at,n);case 3:return e=t.sent,t.next=6,Object(tt.d)(C({note:e.data}));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),ut,null,[[0,8]])}function mt(){return nt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(tt.f)(O.CREATE_NOTE_SUCCESS,xt);case 2:case"end":return n.stop()}}),dt)}function Et(n,t){return nt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(tt.b)(ot,{id:n.payload.beforeCard.id,note:n.payload.beforeCard});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),pt,null,[[0,5]])}function gt(){return nt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(tt.f)(O.GET_TARGET_CARD,Et);case 2:case"end":return n.stop()}}),st)}var vt=[Object(tt.c)(bt),Object(tt.c)(mt),Object(tt.c)(gt)],Ot=nt.a.mark(_t);function _t(){return nt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(tt.a)(Object(Wn.a)(vt));case 2:case"end":return n.stop()}}),Ot)}var jt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,Ct=Object(f.a)(),Tt=Object(s.e)(Kn,jt(Object(s.a)(Ct)));Ct.run(_t),x.a.defaults.withCredentials=!0,x.a.defaults.baseURL="http://localhost:3003/";var wt=function(n){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,n),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement(v.a,{store:Tt},a.a.createElement(qn,null))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(wt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[287,1,2]]]);
//# sourceMappingURL=main.eea25b94.chunk.js.map